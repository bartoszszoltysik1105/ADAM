
var params = new URLSearchParams(window.location.search);

function sendTo(url){
    // Map logical names to actual pages; preserve params when returning to main ID page
    const pageMap = {
        home: 'mObywatel',
        mObywatel: 'mObywatel',
        services: 'services',
        qr: 'qr',
        more: 'more',
        moreid: 'more',
        pesel: 'more',
        shortcuts: 'more'
    };

    const target = pageMap[url] || url;
    if (target === 'mObywatel') {
        // keep URL parameters so image / data persist
        location.href = `mObywatel.html?` + params.toString();
    } else {
        location.href = `${target}.html`;
    }
}

document.querySelectorAll(".bottom_element_grid").forEach((element) => {
    element.addEventListener('click', () => {
        sendTo(element.getAttribute("send"))
    })
})

function getMobileOperatingSystem() {
    var userAgent = navigator.userAgent || navigator.vendor || window.opera;
  
    if (/windows phone/i.test(userAgent)) {
        return 1;
    }
  
    if (/android/i.test(userAgent)) {
        return 2;
    }
  
    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        return 3;
    }
  
    return 4;
  }
  
  if (getMobileOperatingSystem() == 2){
      document.querySelector(".bottom_bar").style.height = "70px"
}